{% extends "base.html" %}
{% block title %}{{ employee.user.get_full_name|default:employee.user.username }}{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="card shadow-sm border-0 p-4">
    <div class="d-flex align-items-center mb-4">
      <div class="rounded-circle bg-primary text-white d-flex justify-content-center align-items-center me-3" style="width:60px; height:60px; font-size:1.5rem;">
        {{ employee.user.first_name|default:employee.user.username|slice:":1"|upper }}
      </div>
      <div>
        <h4 class="fw-bold mb-0">
          {{ employee.user.get_full_name|default:employee.user.username }}
        </h4>
        <small class="text-muted">
          {{ employee.position|default:"â€”" }}
        </small>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <p><strong>ğŸ¢ ĞÑ‚Ğ´ĞµĞ»:</strong> {{ employee.department.name|default:"â€”" }}</p>
      </div>
      <div class="col-md-6">
        <p><strong>ğŸ¯ Ğ Ğ¾Ğ»ÑŒ:</strong> {{ employee.get_role_display }}</p>
      </div>
    </div>

    {% if active_delegate %}
    <div class="alert alert-warning border-start border-4 border-warning shadow-sm">
      ğŸ” Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ» Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¼Ğ¾Ñ‡Ğ¸Ñ:
      <strong>{{ active_delegate.user.get_full_name|default:active_delegate.user.username }}</strong>
      Ğ´Ğ¾ {{ employee.delegate_until|date:"d.m.Y" }}.
    </div>
    {% endif %}

    {% if delegated_from %}
    <div class="alert alert-info border-start border-4 border-info shadow-sm">
      âœ… Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ ÑÑ‚Ğ¾Ñ‚ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ğ·Ğ°Ğ¼ĞµÑ‰Ğ°ĞµÑ‚:
      <strong>{{ delegated_from.user.get_full_name|default:delegated_from.user.username }}</strong>
      Ğ´Ğ¾ {{ delegated_from.delegate_until|date:"d.m.Y" }}.
    </div>
    {% endif %}

    <hr>

    <h6 class="fw-bold mb-3">ğŸ“‹ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ</h6>
    <p><strong>ğŸ‘¤ Ğ›Ğ¾Ğ³Ğ¸Ğ½:</strong> {{ employee.user.username }}</p>
    <p><strong>ğŸ“§ Email:</strong> {{ employee.user.email|default:"â€”" }}</p>

    <div class="mt-4">
      <a href="{% url 'employee_list' %}" class="btn btn-secondary">â¬… ĞĞ°Ğ·Ğ°Ğ´</a>
      <a href="{% url 'task_list' %}?employee={{ employee.id }}" class="btn btn-outline-primary">
        ğŸ” Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°
      </a>
    </div>
  </div>
</div>
{% endblock %}
